export { default as theme } from './src'
import { Appear,Head, Image } from 'mdx-deck'
import { Layout, LayoutNoFooter, CodeSanbox, Split, BGImage } from './src'
import { CodeSurfer } from 'mdx-deck-code-surfer'
import nightOwl from 'prism-react-renderer/themes/nightOwl'

<Head>
  <title>PWA for designers</title>
</Head>

<BGImage src={require('file-loader!./images/space_scene-min.jpg')} />

# Progressive Web Applications

---

export default Layout

# What is a PWA?

### Progressive Web Apps are user experiences that have the reach of the web, and are:

<Appear>
  <p>
    Reliable - Load instantly and never show the downasaur, even in uncertain
    network conditions.
  </p>
  <p>
    Fast - Respond quickly to user interactions with silky smooth animations and
    no janky scrolling.
  </p>
  <p>
    Engaging - Feel like a natural app on the device, with an immersive user
    experience.
  </p>
  <p>
    This new level of quality allows Progressive Web Apps to earn a place on the
    user's home screen.
  </p>
</Appear>

---

export default Layout

# pwa design

<Appear>

<p>
  Design for touch: as a native application
</p>
<p>
  It‚Äôs good practice to use standard device fonts to make the PWA appear native and familiar
</p>
<p>
  Design for offline first: user freedom & control, offline content, and functionality.
</p>
 <p>
    A high fidelity Protoyping tool
</p>
  <p>
   Offline state and content in a design system
  </p>



</Appear>

---

export default Layout

# pwa vs native


<Appear>

 <p>
   No IOS, android, or hybrid app developers required
  </p>

  <p>
    Any page or screen on your PWA can have its own shareable direct link
  </p>

  <p>
    Content in PWAs can be easily found by search engines and are adjusted to Google‚Äôs mobile-first index
  </p>

</Appear>

---


export default Layout

# an open web

<Appear>

  <p>
     PWA's keeps the spirit of the open web alive
  </p>

  <p>
    No walled garden - Apple App Store review guidlines
  </p>
   <p>
    Freedom to innovate
  </p>
</Appear>

---

export default Layout

# Development

---

export default Layout

# App shell

<Appear>
<p>
  The App shell concept is concerned with loading a minimal user interface as soon as possible and then caching it so it is available
  The next time someone visits the app from the device.
</p>

<p>
  The UI loads from the cache immediately and any new content is requested from the server
  (if it isn‚Äôt available in the cache already).
</p>

<https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Structural_overview>

</Appear>

```notes

```

---

export default Layout

# app manifest

<Appear>

<p>
  Having a manifest is required by Chrome to show the Add to Home Screen prompt.
</p>

<p>
  The web app manifest is a JSON file that tells the browser about your web application
  and how it should behave when 'installed' on the user's device
</p>

<https://developer.mozilla.org/en-US/docs/Web/Manifest>

</Appear>

```notes

```

---

export default LayoutNoFooter

<CodeSurfer
  title="APP MANIFEST"
  code={require("!raw-loader!./examples/manifest.js")}
  lang="javascript"
  showNumbers={true}
  theme={nightOwl}
  dark={false}
  steps={[
    { range: [1, 3], notes: "Defines the PWA name" },
    { range: [10, 14], notes: "Homescreen icon " },
    { range: [29, 30], notes: "default colour" },
    {
      lines: [27],
      notes:
        "Defines the developers‚Äô preferred display mode for the website."
    }
  ]}
/>

---

export default Split

<img src={require('file-loader!./images/browser.jpg')} />


- ### Browser
- The application opens in a conventional browser tab or new window,
- depending on the browser and platform.
- _This is the default._

---

export default Split

<img src={require('file-loader!./images/fullscreen.jpg')} />


- ### Fullscreen
- All of the available display area is used
- _no user agent chrome is shown_

---

export default Split

<img src={require('file-loader!./images/standalone.jpg')} />


- ### Standalone
-  will look and feel like a standalone application.
- _can include other UI elements such as a status bar._

---


export default Layout

#  Meta data for non android browsers


```notes
IOS and Microsoft Edge and still need some metadata to make the app installable.
For iOS, it needs three `<meta>` tags.
They all start with apple-mobile-web-app and have a content property.````

---

export default LayoutNoFooter

<CodeSurfer
  title="META DATA"
  notes="Android does most of this by default"
  code={require("!raw-loader!./examples/meta.html")}
  lang="html"
  showNumbers={true}
  theme={nightOwl}
  dark={false}
/>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# Service workers
<Appear>
<p>
A service worker is a script that runs in the background without access to the UI, and a requisite for a Progressive Web App.
They can be used for caching requests and assets.
</p>
<p>
  Service Workers are a virtual proxy between the browser and the network.
</p>

<https://serviceworke.rs>
</Appear>

---

export default LayoutNoFooter

<CodeSurfer
  title="Service worker example"
  code={require("!raw-loader!./examples/serviceworker.js")}
  lang="javascript"
  showNumbers={true}
  theme={nightOwl}
  dark={false}
  steps={[
    {
      lines: [1],
      notes:
        "Registering a service worker, Browsers that support Service Worker expose service worker on the global navigator object."
    },
    {
      range: [3, 11],
      notes:
        "Check if the browser supports service workers, if the navigator object has a serviceWorker property"
    }
  ]}
/>

---

export default Layout

# Network Strategy

With network strategies, you can tune which types of requests should
get the freshest content possible and which should try to get responses
from cache. That helps improve online performance by avoiding
unnecessary network round trips for static assets.

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# Precache

Service Worker Precache is a module for generating a service worker that precaches resources.


<https://github.com/GoogleChromeLabs/sw-precache>

<https://www.npmjs.com/package/sw-precache>

---
export default LayoutNoFooter

<CodeSurfer
  title=" Service Worker Precache "
  notes="Service Worker Precache is a module for generating a service worker that precaches resources"
  code={require("!raw-loader!./examples/webpack-precache.js")}
  lang="javascript"
  showNumbers={true}
  theme={nightOwl}
  dark={false}
  steps={[
    {
      range: [22, 29],
      notes:
        " URL Patterns for caching images from the cat API - images can be viewed offline"
    }
  ]}
/>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# Navigator API

Returns the online status of the browser.
The property returns a boolean value, with true meaning online and false meaning offline.

<https://caniuse.com/#feat=online-status>

---


export default Layout

# Push Notifications

native application like push notifications

<https://caniuse.com/#feat=push-api>

<https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# Performance üèÉüí®

<https://hnpwa.com/>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# Lighthouse audits

<Appear>
<p>
  Lighthouse is an open-source, automated tool for improving the quality of web pages
</p>
<p>
  You can run it against any web page, public or requiring authentication.
  It has audits for performance, accessibility, progressive web apps, and more.
</p>
</Appear>

---

<Image src={require("!file-loader!./images/lighthouse.jpg")} size="contain" />

---

export default Layout

# Development Env.

<Appear>
<p>
  Mobile testing - Ngrok is a service that relays your local environment on an external dns
</p>
<p>
  `npm install -g ngrok`
</p>
<p>
  run `ngrok http 8080`
</p>
<p>
  Browse to the external URL
</p>
</Appear>

---

export default Layout

# Test Production

<Appear>

<p>
  Service workers are a production feature so...
</p>
<p>
 Emulate an HTTP server `npm install -g serve`
</p>
<p>
Build project `npm run build`
</p>
<p>
Serve production files `serve dist`
</p>
</Appear>

---

export default Split


<img src={require('file-loader!./images/businesstime.gif')} />

- ## BUSINESS CASES
- <https://www.pwastats.com>
-
- <https://smashingideas.com/pwa-statistics>

---

<Image src={require("!file-loader!./images/pwa-stats.png")} size="contain" />

---

export default LayoutNoFooter


<BGImage src={require('file-loader!./images/cat.jpg')} />

# gifs and cats

<https://pwa-chat-2a5f9.firebaseapp.com>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# useful links

<https://caniuse.com/#feat=serviceworkers>

<https://developers.google.com/web/progressive-web-apps>

<https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API>

<https://serviceworke.rs/>

<https://egghead.io/courses/offline-first-progressive-web-apps-pwa-in-vue-js>

<https://www.smashingmagazine.com/2018/09/smashing-book-6-release>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# ...more useful links

<https://medium.com/ebaydesign/progressive-web-applications-high-fidelity-prototyping-7ef93ae630cd>

<https://developers.google.com/web/tools/lighthouse>

<https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API>

<https://www.pwastats.com>

<https://pwa.rocks>

<https://hnpwa.com>

```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

# slides built with MDX-deck ‚öõ

# & codesurfer

## Hosted on Netlify

<https://github.com/jxnblk/mdx-deck>

<https://github.com/pomber/code-surfer>

<https://github.com/alanpcurrie/pwa-presentation>

<https://www.netlify.com>



```notes
- Create speaker notes in fenced code blocks
```

---

export default Layout

 # image credit

 <https://www.jpl.nasa.gov/visions-of-the-future>

 <https://www.flickr.com/photos/projectapolloarchive>


---


export default LayoutNoFooter

<BGImage src={require('file-loader!./images/moon.jpg')} />

# Thank You
